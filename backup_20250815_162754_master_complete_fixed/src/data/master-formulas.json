{
  "metrics": {
    "return_rate": {
      "name": "Return Rate",
      "aliases": ["return rate", "rto rate", "return percentage", "rto percentage", "return %", "rto %"],
      "description": "Percentage of orders that were returned (RTO)",
      "formula": "RTO_Order / Total_FP_Order * 100",
      "unit": "%",
      "category": "Order Analytics",
      "calculation_type": "percentage",
      "api_endpoint": "/api/order",
      "filters": {
        "date_range": true,
        "status": true,
        "courier": true
      },
      "friendly_response": "Hey {user_name} - your return rate is {value}% for the selected period, fetched on {timestamp}"
    },
    "total_orders": {
      "name": "Total Orders",
      "aliases": ["total orders", "all orders", "total fp orders", "fp orders", "order", "orders", "number of orders", "total number of orders", "total number of order", "number of order", "how many orders", "count of orders", "order count"],
      "description": "Total number of prepaid and COD orders",
      "formula": "Total_FP_Order",
      "unit": "count",
      "category": "Order Analytics",
      "calculation_type": "sum",
      "api_endpoint": "/api/order",
      "filters": {
        "date_range": true,
        "status": true,
        "courier": true
      },
      "friendly_response": "Hey {user_name} - you have {value} total orders for the selected period, fetched on {timestamp}"
    },
    "rto_orders": {
      "name": "RTO Orders",
      "aliases": ["rto orders", "return orders", "ndr orders", "rto delivered"],
      "description": "Total number of orders with RTO status",
      "formula": "RTO_Order",
      "unit": "count",
      "category": "Order Analytics",
      "calculation_type": "sum",
      "api_endpoint": "/api/order",
      "filters": {
        "date_range": true,
        "status": true,
        "courier": true
      },
      "friendly_response": "Hey {user_name} - you have {value} RTO orders for the selected period, fetched on {timestamp}"
    },
    "delivery_rate": {
      "name": "Delivery Rate",
      "aliases": ["delivery rate", "delivered percentage", "delivery %", "successful delivery"],
      "description": "Percentage of orders successfully delivered",
      "formula": "Delivered_Orders / Total_FP_Order * 100",
      "unit": "%",
      "category": "Order Analytics",
      "calculation_type": "percentage",
      "api_endpoint": "/api/order",
      "filters": {
        "date_range": true,
        "status": true,
        "courier": true
      },
      "friendly_response": "Hey {user_name} - your delivery success rate is {value}% for the selected period, fetched on {timestamp}"
    },
    "total_revenue": {
      "name": "Total Revenue",
      "aliases": ["revenue", "total revenue", "earnings", "total earnings"],
      "description": "Total revenue from all orders",
      "formula": "SUM(order_amount) WHERE order_status != 'Cancelled'",
      "unit": "₹",
      "category": "Financial Analytics",
      "calculation_type": "sum",
      "api_endpoint": "/api/order",
      "filters": {
        "date_range": true,
        "status": true,
        "courier": true
      },
      "friendly_response": "Hey {user_name} - your total revenue is Rs. {value}/- for the selected period, fetched on {timestamp}"
    },
    "average_order_value": {
      "name": "Average Order Value",
      "aliases": ["aov", "average order value", "avg order value", "mean order value"],
      "description": "Average value per order",
      "formula": "Total_Revenue / Total_FP_Order",
      "unit": "₹",
      "category": "Financial Analytics",
      "calculation_type": "average",
      "api_endpoint": "/api/orders",
      "filters": {
        "date_range": true,
        "status": true,
        "courier": true
      },
      "friendly_response": "Hey {user_name} - your average order value is Rs. {value}/- for the selected period, fetched on {timestamp}"
    },
    "wallet_balance": {
      "name": "Wallet Balance",
      "aliases": ["wallet", "balance", "wallet balance", "account balance", "available balance"],
      "description": "Current wallet balance",
      "formula": "Current_Balance",
      "unit": "₹",
      "category": "Financial Analytics",
      "calculation_type": "current",
      "api_endpoint": "/api/wallet",
      "filters": {
        "date_range": false,
        "status": false,
        "courier": false
      },
      "friendly_response": "Hey {user_name} - your wallet balance is Rs. {value}/- fetched on {timestamp}"
    },
    "wallet_expense": {
      "name": "Wallet Expense",
      "aliases": ["wallet expense", "expense", "spending", "wallet spending", "money spent", "expenses", "costs"],
      "description": "Total wallet expenses for the specified period",
      "formula": "Wallet_Expense",
      "unit": "₹",
      "category": "Financial Analytics",
      "calculation_type": "sum",
      "api_endpoint": "/api/wallet/transactions",
      "filters": {
        "date_range": true,
        "transaction_type": true,
        "status": false,
        "courier": false
      },
      "friendly_response": "Hey {user_name} - your wallet expenses are Rs. {value}/- for the selected period, fetched on {timestamp}"
    },
    "total_shipments": {
      "name": "Total Shipments",
      "aliases": ["shipments", "total shipments", "all shipments"],
      "description": "Total number of shipments",
      "formula": "Total_Shipments",
      "unit": "count",
      "category": "Shipment Analytics",
      "calculation_type": "sum",
      "api_endpoint": "/api/shipments",
      "filters": {
        "date_range": true,
        "status": true,
        "courier": true
      },
      "friendly_response": "Hey {user_name} - you have {value} total shipments for the selected period, fetched on {timestamp}"
    },
    "delivered_shipments": {
      "name": "Delivered Shipments",
      "aliases": ["delivered", "successful deliveries", "completed shipments"],
      "description": "Number of successfully delivered shipments",
      "formula": "Delivered_Shipments",
      "unit": "count",
      "category": "Shipment Analytics",
      "calculation_type": "sum",
      "api_endpoint": "/api/shipments",
      "filters": {
        "date_range": true,
        "status": true,
        "courier": true
      },
      "friendly_response": "Hey {user_name} - you have {value} delivered shipments for the selected period, fetched on {timestamp}"
    }
  },
  "data_points": {
    "Total_FP_Order": {
      "name": "Total FP Orders",
      "description": "Total number of prepaid and COD orders",
      "api_endpoint": "/api/orders",
      "filters": {
        "order_type": ["Prepaid", "COD"]
      },
      "calculation": "COUNT(*) WHERE order_type IN ('Prepaid', 'COD')"
    },
    "RTO_Order": {
      "name": "RTO Orders",
      "description": "Orders with RTO status (NDR, RTO, RTO Delivered)",
      "api_endpoint": "/api/orders",
      "filters": {
        "tracking_status": ["NDR", "RTO", "RTO Delivered"]
      },
      "calculation": "COUNT(*) WHERE tracking_status IN ('NDR', 'RTO', 'RTO Delivered')"
    },
    "Delivered_Orders": {
      "name": "Delivered Orders",
      "description": "Orders with delivered status",
      "api_endpoint": "/api/orders",
      "filters": {
        "tracking_status": ["Delivered"]
      },
      "calculation": "COUNT(*) WHERE tracking_status = 'Delivered'"
    },
    "Current_Balance": {
      "name": "Current Wallet Balance",
      "description": "Current wallet balance amount",
      "api_endpoint": "/api/wallet",
      "filters": {},
      "calculation": "SELECT balance FROM wallet WHERE user_id = current_user"
    },
    "Wallet_Expense": {
      "name": "Wallet Expense",
      "description": "Total wallet expenses for the specified period",
      "api_endpoint": "/api/wallet/transactions",
      "filters": {
        "transaction_type": ["debit", "withdrawal", "payment"]
      },
      "calculation": "SUM(amount) WHERE transaction_type IN ('debit', 'withdrawal', 'payment')"
    },
    "Total_Shipments": {
      "name": "Total Shipments",
      "description": "Total number of shipments",
      "api_endpoint": "/api/shipments",
      "filters": {},
      "calculation": "COUNT(*) FROM shipments"
    },
    "Delivered_Shipments": {
      "name": "Delivered Shipments",
      "description": "Number of delivered shipments",
      "api_endpoint": "/api/shipments",
      "filters": {
        "status": ["Delivered"]
      },
      "calculation": "COUNT(*) WHERE status = 'Delivered'"
    }
  },
  "api_endpoints": {
    "/api/orders": {
      "description": "Orders API endpoint",
      "available_filters": ["date_range", "order_type", "tracking_status", "courier"],
      "response_format": "JSON",
      "pagination": true
    },
    "/api/shipments": {
      "description": "Shipments API endpoint",
      "available_filters": ["date_range", "status", "courier"],
      "response_format": "JSON",
      "pagination": true
    },
    "/api/wallet": {
      "description": "Wallet API endpoint",
      "available_filters": [],
      "response_format": "JSON",
      "pagination": false
    }
  },
  "filter_definitions": {
    "order_type": {
      "Prepaid": "Prepaid orders",
      "COD": "Cash on Delivery orders",
      "Reverse": "Reverse pickup orders"
    },
    "tracking_status": {
      "Delivered": "Successfully delivered",
      "NDR": "Non-Delivery Report",
      "RTO": "Return to Origin",
      "RTO Delivered": "RTO package delivered back to sender",
      "In Transit": "Package in transit",
      "Out for Delivery": "Package out for delivery"
    },
    "status": {
      "Delivered": "Successfully delivered",
      "In Transit": "Package in transit",
      "Out for Delivery": "Package out for delivery",
      "Failed": "Delivery failed",
      "Returned": "Package returned"
    }
  }
} 